<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>WEB渗透测试的信息收集 | TogetherAlone</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="转载 侵删原文链接：https:&#x2F;&#x2F;www.freebuf.com&#x2F;articles&#x2F;web&#x2F;251083.htmlWeb渗透测试：信息收集篇 信息收集介绍进行web渗透测试之前，最重要的一步那就是就是信息收集了，俗话说“渗透的本质也就是信息收集”，信息收集的深度，直接关系到渗透测试的成败。打好信息收集这一基础可以让测试者选择合适和准确的渗透测试攻击方式，缩短渗透测试的时间。一般来说">
<meta property="og:type" content="article">
<meta property="og:title" content="WEB渗透测试的信息收集">
<meta property="og:url" content="https://itogetheralone.github.io/2020/11/08/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/index.html">
<meta property="og:site_name" content="TogetherAlone">
<meta property="og:description" content="转载 侵删原文链接：https:&#x2F;&#x2F;www.freebuf.com&#x2F;articles&#x2F;web&#x2F;251083.htmlWeb渗透测试：信息收集篇 信息收集介绍进行web渗透测试之前，最重要的一步那就是就是信息收集了，俗话说“渗透的本质也就是信息收集”，信息收集的深度，直接关系到渗透测试的成败。打好信息收集这一基础可以让测试者选择合适和准确的渗透测试攻击方式，缩短渗透测试的时间。一般来说">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601202210_5f706822c25936c650120.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601202371_5f7068c350a296c9d9e56.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601202703_5f706a0fc1ca842608de6.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601203399_5f706cc739a4b37be16a0.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601204368_5f7070908b96566f434cc.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601204623_5f70718f016e07acc9eb6.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601205169_5f7073b13f48de2b9862a.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601205913_5f7076991e2916242ff32.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601206570_5f70792a5bee15c90644a.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601206623_5f70795fd563855ff5c4d.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601206857_5f707a49bf77e2b4503fa.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601208002_5f707ec247a1b646c0620.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601208904_5f708248b14d2bc2e68b2.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601209106_5f708312c996089e6f9ba.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601210235_5f70877b0275cf478e7e6.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601210847_5f7089df9f44efe4b8620.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601211036_5f708a9cbf695b0daccca.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601211307_5f708babcd34157f0169e.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200928/1601258249_5f71430982bbaf955afac.jpeg!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601212355_5f708fc33e7058638d1ba.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601212453_5f709025dfd5fb107e82d.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601212479_5f70903fc707a913cf6a3.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601212635_5f7090db8638a07b4c79b.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601212669_5f7090fd8f99e87c1ff25.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601212900_5f7091e451fbf23636f2e.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200928/1601258335_5f71435f316ab5a62c945.gif!small">
<meta property="og:image" content="https://image.3001.net/images/20200928/1601256346_5f713b9a2ce1377110e0b.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200928/1601256490_5f713c2a823b6be768d59.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200927/1601214426_5f7097da7934a6f01a9b2.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200928/1601250148_5f71236490fc4ac078d23.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200928/1601250197_5f7123958d72783eeec2e.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200928/1601250265_5f7123d98f282252da843.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200928/1601250291_5f7123f3d8badee4d718d.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200928/1601251439_5f71286f28908a71279fa.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200928/1601251978_5f712a8ac684a5dd3b467.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200928/1601252504_5f712c981c448cb0d3e01.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200928/1601254055_5f7132a738c8119b73e01.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200928/1601255035_5f71367b4eeb313a6c6aa.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200928/1601255458_5f71382286becd0cde096.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200928/1601255740_5f71393c6b36513051530.png!small">
<meta property="og:image" content="https://image.3001.net/images/20200928/1601257872_5f71419012284020c8530.jpg!small">
<meta property="og:image" content="https://image.3001.net/images/20200928/1601257971_5f7141f3e1094c10bb6d0.jpg!small">
<meta property="article:published_time" content="2020-11-08T13:35:00.000Z">
<meta property="article:modified_time" content="2020-11-12T06:01:05.693Z">
<meta property="article:author" content="TogetherAlone">
<meta property="article:tag" content="技术">
<meta property="article:tag" content="公司">
<meta property="article:tag" content="网络安全">
<meta property="article:tag" content="web渗透">
<meta property="article:tag" content="信息收集">
<meta property="article:tag" content="转载">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://image.3001.net/images/20200927/1601202210_5f706822c25936c650120.png!small">
  
    <link rel="alternative" href="/atom.xml" title="TogetherAlone" type="application/atom+xml">
  
  
    <link rel="icon" href="//img/head.jpg">
  
  
      
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          rootUrl: '/',
          fancybox: true,
          animate: true,
          isHome: false,
          isPost: true,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
<meta name="generator" content="Hexo 4.2.0"><link rel="stylesheet" href="\assets\css\APlayer.min.css" class="aplayer-style-marker">
<script src="\assets\js\APlayer.min.js" class="aplayer-script-marker"></script>
<script src="\assets\js\Meting.min.js" class="meting-script-marker"></script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/head.jpg" class="js-avatar">
            
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">TogetherAlone</a></h1>
        </hgroup>
        
        <p class="header-subtitle">陌尘</p>
        
        
            <form>
                <input type="text" class="st-default-search-input search" id="local-search-input" placeholder="搜索一下" autocomplete="off">
            </form>
            <div id="local-search-result"></div>
        
        
            <script type="text/javascript">
                (function() {
                    'use strict';
                    function getMatchData(keyword, data) {
                        var matchData = [];
                        for(var i =0;i<data.length;i++){
                            if(data[i].title.toLowerCase().indexOf(keyword)>=0) 
                                matchData.push(data[i])
                        }
                        return matchData;
                    }
                    var $input = $('#local-search-input');
                    var $resultContent = $('#local-search-result');
                    $input.keyup(function(){
                        $.ajax({
                            url: '/search.json',
                            dataType: "json",
                            success: function( json ) {
                                var str='<ul class=\"search-result-list\">';                
                                var keyword = $input.val().trim().toLowerCase();
                                $resultContent.innerHTML = "";
                                if ($input.val().trim().length <= 0) {
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                }
                                var results = getMatchData(keyword, json);
                                if(results.length === 0){
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                } 
                                for(var i =0; i<results.length; i++){
                                    str += "<li><a href='"+ results[i].url +"' class='search-result-title'>"+ results[i].title +"</a></li>";
                                }
                                str += "</ul>";
                                $resultContent.empty();
                                $resultContent.append(str);
                                $('#switch-area').hide();
                            }
                        });
                    });
                })();
            </script>
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        
        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a  href="/">主页</a></li>
                        
                            <li><a  href="/me">摘抄</a></li>
                        
                            <li><a  href="/archives">时光机</a></li>
                        
                            <li><a  href="/tags">标签馆</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl github"  target="_blank" href="https://github.com/iTogetherAlone" title="github">github</a>
                            
                                <a class="fl rss"  target="_blank" href="/atom.xml" title="rss">rss</a>
                            
                        </ul>
                    </nav>
                </section>
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/XML/" style="font-size: 10px;">XML</a> <a href="/tags/web%E6%B8%97%E9%80%8F/" style="font-size: 13.33px;">web渗透</a> <a href="/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" style="font-size: 10px;">信息收集</a> <a href="/tags/%E5%85%AC%E5%8F%B8/" style="font-size: 10px;">公司</a> <a href="/tags/%E5%AD%A6%E6%A0%A1/" style="font-size: 16.67px;">学校</a> <a href="/tags/%E5%AE%B6%E4%B8%AD/" style="font-size: 16.67px;">家中</a> <a href="/tags/%E6%80%9D%E6%83%B3/" style="font-size: 13.33px;">思想</a> <a href="/tags/%E6%8A%80%E6%9C%AF/" style="font-size: 20px;">技术</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/" style="font-size: 13.33px;">网络安全</a> <a href="/tags/%E8%BD%AC%E8%BD%BD/" style="font-size: 10px;">转载</a>
                    </div>
                </section>
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://www.w3school.com.cn/">w3school</a>
                    
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">一个对成为网络安全大佬充满憧憬的年轻人————仰望星空的人</div>
                </section>
                
            </div>
        </div>
    </header>
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="Me">TogetherAlone</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="//img/head.jpg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="Me">TogetherAlone</a></h1>
            </hgroup>
            
            <p class="header-subtitle">陌尘</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/me">摘抄</a></li>
                
                    <li><a href="/archives">时光机</a></li>
                
                    <li><a href="/tags">标签馆</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="github" target="_blank" href="https://github.com/iTogetherAlone" title="github">github</a>
                    
                        <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap"><article id="post-信息收集" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/11/08/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" class="article-date">
      <time datetime="2020-11-08T13:35:00.000Z" itemprop="datePublished">2020-11-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      WEB渗透测试的信息收集
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/WEB%E5%AD%A6%E4%B9%A0/">WEB学习</a>
    </div>


        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web%E6%B8%97%E9%80%8F/" rel="tag">web渗透</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" rel="tag">信息收集</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%85%AC%E5%8F%B8/" rel="tag">公司</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8A%80%E6%9C%AF/" rel="tag">技术</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/" rel="tag">网络安全</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%BD%AC%E8%BD%BD/" rel="tag">转载</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        
    <div id="aplayer-rKfibYcj" class="aplayer aplayer-tag-marker meting-tag-marker"
         data-id="4941417121" data-server="netease" data-type="playlist" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#ad7a86"
    ></div>

<p>转载 侵删<br>原文链接：<a href="https://www.freebuf.com/articles/web/251083.html" target="_blank" rel="noopener">https://www.freebuf.com/articles/web/251083.html</a><br>Web渗透测试：信息收集篇</p>
<h2 id="信息收集介绍"><a href="#信息收集介绍" class="headerlink" title="信息收集介绍"></a>信息收集介绍</h2><p>进行web渗透测试之前，最重要的一步那就是就是信息收集了，俗话说“渗透的本质也就是信息收集”，信息收集的深度，直接关系到渗透测试的成败。打好信息收集这一基础可以让测试者选择合适和准确的渗透测试攻击方式，缩短渗透测试的时间。一般来说收集的信息越多越好，通常包括以下几个部分：</p>
<blockquote>
<p>域名信息收集</p>
<p>子域名信息收集</p>
<p>站点信息收集</p>
<p>敏感信息收集</p>
<p>服务器信息收集</p>
<p>端口信息收集</p>
<p>真实IP地址识别</p>
<p>社会工程学</p>
</blockquote>
<p>下面我们对这几种信息收集分别做相应的讲解。</p>
<h2 id="域名信息收集"><a href="#域名信息收集" class="headerlink" title="域名信息收集"></a>域名信息收集</h2><p><strong>域名</strong>（英语：Domain Name），又称网域，是由一串用点分隔的名字组成的Internet上某一台计算机或计算机组的名称，用于在数据传输时对计算机的定位标识（有时也指地理位置）。由于IP地址具有不方便记忆并且不能显示地址组织的名称和性质等缺点，人们设计出了域名，并通过网域名称系统来将域名和IP地址相互映射，使人更方便地访问互联网，而不用去记住能够被机器直接读取的IP地址数串。</p>
<blockquote>
<p><strong>顶级域名/一级域名：</strong></p>
<p>顶级域（或顶级域名，也称为一级域名），是互联网DNS等级之中的最高级的域，它保存于DNS根域的名字空间中。顶级域名是域名的最后一个部分，即是域名最后一点之后的字母，例如在<a href="http://www.example.com这个域名中，**顶级域是****.com**。" target="_blank" rel="noopener">http://www.example.com这个域名中，**顶级域是****.com**。</a></p>
<p><strong>二级域名：</strong></p>
<p>除了顶级域名，还有二级域名，就是最靠近顶级域名左侧的字段。例如在<a href="http://www.example.com这个域名中，example就是二级域名。" target="_blank" rel="noopener">http://www.example.com这个域名中，example就是二级域名。</a></p>
<p><strong>子域名：</strong></p>
<p>子域名（或子域；英语：Subdomain）是在域名系统等级中，属于更高一层域的域。比如，mail.example.com和calendar.example.com是example.com的两个子域，而example.com则是顶级域.com的子域。凡顶级域名前加前缀的都是该顶级域名的子域名，而子域名根据技术的多少分为二级子域名，三级子域名以及多级子域名。</p>
</blockquote>
<p>一般来说，在做渗透测试之前，渗透测试人员能够了解到的信息有限，一般也就只知道一个域名，这就需要渗透测试人员首先要针对一个仅有的域名进行信息搜集，获取域名的注册信息，包括该域名的DNS服务器信息、子域信息和注册人的联系信息等信息。可以用以下几种方法来收集域名信息。</p>
<h3 id="Whois-查询"><a href="#Whois-查询" class="headerlink" title="Whois 查询"></a>Whois 查询</h3><p>whois 是用来查询域名的IP以及所有者等信息的传输协议。简单说，whois就是一个用来查询域名是否已经被注册，以及注册域名的详细信息的数据库（如域名所有人、域名注册商），不同域名后缀的Whois信息需要到不同的Whois数据库查询。通过whois来实现对域名信息的查询，可以得到注册人的姓名和邮箱信息通常对测试个人站点非常有用，因为我们可以通过搜索引擎和社交网络挖掘出域名所有人的很多信息。</p>
<p><strong>（1）在线查询</strong></p>
<p>如今网上出现了一些网页接口简化的线上查询工具，可以一次向不同的数据库查询。网页接口的查询工具仍然依赖whois协议向服务器发送查询请求，命令列接口的工具仍然被系统管理员广泛使用。whois通常使用TCP协议43端口。每个域名/IP的whois信息由对应的管理机构保存。</p>
<p>常见的网站包括：</p>
<blockquote>
<p>Whois站长之家查询：<a href="http://whois.chinaz.com/" target="_blank" rel="noopener">http://whois.chinaz.com/</a></p>
<p>阿里云中国万网查询：<a href="https://whois.aliyun.com/" target="_blank" rel="noopener">https://whois.aliyun.com/</a></p>
<p>Whois Lookup 查找目标网站所有者的信息：<a href="http://whois.domaintools.com/" target="_blank" rel="noopener">http://whois.domaintools.com/</a></p>
<p>Netcraft Site Report 显示目标网站上使用的技术：<a href="http://toolbar.netcraft.com/site_report?url=" target="_blank" rel="noopener">http://toolbar.netcraft.com/site_report?url=</a></p>
<p>Robtex DNS 查询显示关于目标网站的全面的DNS信息：<a href="https://www.robtex.com/" target="_blank" rel="noopener">https://www.robtex.com/</a></p>
<p>全球Whois查询：<a href="https://www.whois365.com/cn/" target="_blank" rel="noopener">https://www.whois365.com/cn/</a></p>
<p>站长工具爱站查询：<a href="https://whois.aizhan.com/" target="_blank" rel="noopener">https://whois.aizhan.com/</a></p>
</blockquote>
<p><strong>示例：</strong><br>下面是使用站长之家Whois查询freebuf域名的相关信息：</p>
<p><img src="https://image.3001.net/images/20200927/1601202210_5f706822c25936c650120.png!small" alt="1601202210_5f706822c25936c650120.png!small"></p>
<p><strong>（2）使用kali中的whois工具查询</strong></p>
<p>在Kali Linux下自带的Whois查询工具，通过命令Whois查询域名信息，只需输入要查询的域名即可，如下图所示。</p>
<p><img src="https://image.3001.net/images/20200927/1601202371_5f7068c350a296c9d9e56.png!small" alt="1601202371_5f7068c350a296c9d9e56.png!small"></p>
<h3 id="备案信息查询"><a href="#备案信息查询" class="headerlink" title="备案信息查询"></a>备案信息查询</h3><p>网站备案信息是根据国家法律法规规定，由网站所有者向国家有关部门申请的备案，是国家信息产业部对网站的一种管理途径，是为了防止在网上从事非法网站经营活动，当然主要是针对国内网站。</p>
<p>在备案查询中我们主要关注的是：单位信息例如名称、备案编号、网站负责人、法人、电子邮箱、联系电话等。</p>
<p>常用的备案信息查询网站有以下几个：</p>
<blockquote>
<p>ICP/IP地址/域名信息备案管理系统：<a href="http://beian.miit.gov.cn/publish/query/indexFirst.action" target="_blank" rel="noopener">http://beian.miit.gov.cn/publish/query/indexFirst.action</a></p>
<p>ICP备案查询网：<a href="http://www.beianbeian.com/" target="_blank" rel="noopener">http://www.beianbeian.com/</a></p>
<p>备案吧吧：<a href="https://www.beian88.com/" target="_blank" rel="noopener">https://www.beian88.com/</a></p>
<p>天眼查：<a href="https://www.tianyancha.com/" target="_blank" rel="noopener">https://www.tianyancha.com/</a></p>
</blockquote>
<p><img src="https://image.3001.net/images/20200927/1601202703_5f706a0fc1ca842608de6.png!small" alt="1601202703_5f706a0fc1ca842608de6.png!small"></p>
<h2 id="子域名信息收集"><a href="#子域名信息收集" class="headerlink" title="子域名信息收集"></a>子域名信息收集</h2><p>子域名（或子域；英语：Subdomain）是在域名系统等级中，属于更高一层域的域。比如，mail.example.com和calendar.example.com是example.com的两个子域，而example.com则是顶级域.com的子域。凡顶级域名前加前缀的都是该顶级域名的子域名，而子域名根据技术的多少分为二级子域名，三级子域名以及多级子域名。</p>
<p><strong>为什么要收集子域名</strong></p>
<p>子域名枚举可以在测试范围内发现更多的域或子域，这将增大漏洞发现的几率。</p>
<p>有些隐藏的、被忽略的子域上运行的应用程序可能帮助我们发现重大漏洞。</p>
<p>在同一个组织的不同域或应用程序中往往存在相同的漏洞</p>
<blockquote>
<p>假设我们的目标网络规模比较大，直接从主域入手显然是很不理智的，因为对于这种规模的目标，一般其主域都是重点防护区域，所以不如先进入目标的某个子域，然后再想办法迂回接近真正的目标，这无疑是个比较好的选择。</p>
</blockquote>
<p>收集子域名的方法有以下几种：</p>
<h3 id="利用搜索引擎查询"><a href="#利用搜索引擎查询" class="headerlink" title="利用搜索引擎查询"></a>利用搜索引擎查询</h3><p>我们可以利用Google语法搜索子域名，我们以百度的域名为例，使用“site:baidu.com”语法，如下图所示。</p>
<p><img src="https://image.3001.net/images/20200927/1601203399_5f706cc739a4b37be16a0.png!small" alt="1601203399_5f706cc739a4b37be16a0.png!small"></p>
<h3 id="利用在线工具查询"><a href="#利用在线工具查询" class="headerlink" title="利用在线工具查询"></a>利用在线工具查询</h3><p>网上有很多子域名的查询站点，可通过它们检索某个给定域名的子域名。如：</p>
<ul>
<li>DNSdumpster：<a href="https://dnsdumpster.com/" target="_blank" rel="noopener">https://dnsdumpster.com/</a></li>
<li>whois反查：<a href="http://whois.chinaz.com/" target="_blank" rel="noopener">http://whois.chinaz.com/</a></li>
<li>virustotal：<a href="http://www.virustotal.com/" target="_blank" rel="noopener">www.virustotal.com</a></li>
<li>子域名爆破：<a href="https://phpinfo.me/domain" target="_blank" rel="noopener">https://phpinfo.me/domain/</a></li>
<li>IP反查绑定域名：<a href="http://dns.aizhan.com/" target="_blank" rel="noopener">http://dns.aizhan.com/</a></li>
<li><a href="https://hackertarget.com/find-dns-host-records/" target="_blank" rel="noopener">https://hackertarget.com/find-dns-host-records/</a></li>
<li><a href="https://site.ip138.com/" target="_blank" rel="noopener">https://site.ip138.com</a></li>
</ul>
<p>我们用DNSdumpster查询nasa的子域名：</p>
<p><img src="https://image.3001.net/images/20200927/1601204368_5f7070908b96566f434cc.png!small" alt="1601204368_5f7070908b96566f434cc.png!small"></p>
<p><img src="https://image.3001.net/images/20200927/1601204623_5f70718f016e07acc9eb6.png!small" alt="1601204623_5f70718f016e07acc9eb6.png!small"></p>
<h3 id="通过证书透明度公开日志枚举子域名"><a href="#通过证书透明度公开日志枚举子域名" class="headerlink" title="通过证书透明度公开日志枚举子域名"></a>通过证书透明度公开日志枚举子域名</h3><blockquote>
<p>证书透明度是证书授权机构的一个项目，证书授权机构会将每个SSL/TLS证书发布到公共日志中。一个SSL/TLS证书通常包含域名、子域名和邮件地址，这些也经常成为攻击者非常希望获得的有用信息。</p>
</blockquote>
<p>查找某个域名所属证书的最简单的方法就是使用搜索引擎来搜索一些公开的CT日志，例如以下网站：</p>
<ul>
<li>crt.sh：<a href="https://crt.sh/" target="_blank" rel="noopener">https://crt.sh</a></li>
<li>censys：<a href="https://censys.io/" target="_blank" rel="noopener">https://censys.io</a></li>
</ul>
<h3 id="利用工具枚举子域名"><a href="#利用工具枚举子域名" class="headerlink" title="利用工具枚举子域名"></a>利用工具枚举子域名</h3><p><strong>kali上的工具</strong></p>
<p><img src="https://image.3001.net/images/20200927/1601205169_5f7073b13f48de2b9862a.png!small" alt="1601205169_5f7073b13f48de2b9862a.png!small"></p>
<p>在kali中的信息收集模块的DNS分析中，有很多工具可以进行域名信息收集，如上图。</p>
<ul>
<li><h4 id="Dnsenum：域名信息收集"><a href="#Dnsenum：域名信息收集" class="headerlink" title="Dnsenum：域名信息收集"></a>Dnsenum：域名信息收集</h4></li>
<li><h4 id="Dnsmap：收集信息和枚举DNS信息"><a href="#Dnsmap：收集信息和枚举DNS信息" class="headerlink" title="Dnsmap：收集信息和枚举DNS信息"></a>Dnsmap：收集信息和枚举DNS信息</h4></li>
<li><h4 id="Dnsrecon：用于DNS侦察"><a href="#Dnsrecon：用于DNS侦察" class="headerlink" title="Dnsrecon：用于DNS侦察"></a>Dnsrecon：用于DNS侦察</h4></li>
<li><h4 id="Fierce-：子域名查询"><a href="#Fierce-：子域名查询" class="headerlink" title="Fierce ：子域名查询"></a><strong>Fierce ：子域名查询</strong></h4></li>
<li><h4 id="whois查询"><a href="#whois查询" class="headerlink" title="whois查询"></a>whois查询</h4></li>
</ul>
<p>我们可以利用Fierce工具，进行子域名枚举。该工具首先测试是否有域传送漏洞，若存在则应该直接通过域传送搜集子域信息，没有域传送漏洞则采用爆破的方式。</p>
<p>使用方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fierce -dns &lt;域名&gt; </span><br><span class="line">fierce -dns &lt;域名&gt; -threads 100      &#x2F;&#x2F; threads 是线程数，可以自己指定</span><br></pre></td></tr></table></figure>

<p><img src="https://image.3001.net/images/20200927/1601205913_5f7076991e2916242ff32.png!small" alt="1601205913_5f7076991e2916242ff32.png!small"></p>
<p><strong>Windows上的工具</strong></p>
<p>Windows上的子域名查询工具主要由：</p>
<ul>
<li><p>Layer子域名挖掘机</p>
</li>
<li><h4 id="subDomainsbrute"><a href="#subDomainsbrute" class="headerlink" title="subDomainsbrute"></a>subDomainsbrute</h4></li>
<li><p>K8</p>
</li>
<li><p>Sublist3r</p>
</li>
<li><p>Maltego</p>
</li>
<li><p>……</p>
</li>
</ul>
<p>subDomainsbrute工具可以用于二级域名收集，下载地址：<a href="https://github.com/lijiejie/subDomainsBrute" target="_blank" rel="noopener">https://github.com/lijiejie/subDomainsBrute</a></p>
<p>Python3环境下运行需要安装aiodns库。使用该工具的命令执行如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python subDomainsBrute.py xxxx.com</span><br></pre></td></tr></table></figure>

<p><img src="https://image.3001.net/images/20200927/1601206570_5f70792a5bee15c90644a.png!small" alt="1601206570_5f70792a5bee15c90644a.png!small"></p>
<p>收集完后，会将收集结果写入一个域名对应的文件中：</p>
<p><img src="https://image.3001.net/images/20200927/1601206623_5f70795fd563855ff5c4d.png!small" alt="1601206623_5f70795fd563855ff5c4d.png!small"></p>
<p>更多使用技巧：<a href="https://www.geek-share.com/detail/2769110300.html" target="_blank" rel="noopener">https://www.geek-share.com/detail/2769110300.html</a></p>
<p>除了subDomainsbrute工具，Layer子域名挖掘机也是十分强大的，用它收集子域名将详细的显示域名、解析IP、CDN列表、Web服务器和网站状态等信息：</p>
<p><img src="https://image.3001.net/images/20200927/1601206857_5f707a49bf77e2b4503fa.png!small" alt="1601206857_5f707a49bf77e2b4503fa.png!small"></p>
<p>该工具请自行上网搜索下载。</p>
<h2 id="站点信息收集"><a href="#站点信息收集" class="headerlink" title="站点信息收集"></a>站点信息收集</h2><p>接下来我们进行web网站站点信息收集，主要收集如下信息：</p>
<ul>
<li>CMS指纹识别</li>
<li>历史漏洞</li>
<li>脚本语言</li>
<li>敏感目录/文件</li>
<li>Waf识别</li>
<li>……</li>
</ul>
<h3 id="CMS指纹识别"><a href="#CMS指纹识别" class="headerlink" title="CMS指纹识别"></a>CMS指纹识别</h3><p>CMS（内容管理系统）又称为整站系统或文章系统，用于网站内容管理。用户只需要下载对应的CMS软件包，就能部署搭建，并直接利用CMS。但是各种CMS都具有其独特的结构命名规则和特定的文件内容，因此可以利用这些内容来获取CMS站点的具体软件CMS与版本。</p>
<p>在渗透测试中，对进行指纹识别是相当有必要的，识别出相应的CMS，才能查找与其相关的漏洞，然后才能进行相应的渗透操作。</p>
<p>常见的CMS有Dedecms(织梦)、Discuz、PHPWEB、PHPWind、PHPCMS、ECShop、Dvbbs、SiteWeaver、ASPCMS、帝国、Z-Blog、WordPress等。</p>
<p><strong>（1）在线识别</strong></p>
<p>如今，网上一些在线的网站查询CMS指纹识别，如下所示：</p>
<ul>
<li>BugScaner: <a href="http://whatweb.bugscaner.com/look/" target="_blank" rel="noopener">http://whatweb.bugscaner.com/look/</a></li>
<li>潮汐指纹：<a href="http://finger.tidesec.net/" target="_blank" rel="noopener">http://finger.tidesec.net/</a></li>
<li>云悉：<a href="http://www.yunsee.cn/info.html" target="_blank" rel="noopener">http://www.yunsee.cn/info.html</a></li>
<li>WhatWeb: <a href="https://whatweb.net/" target="_blank" rel="noopener">https://whatweb.net/</a></li>
<li>云悉指纹: <a href="http://www.yunsee.cn/finger.html" target="_blank" rel="noopener">http://www.yunsee.cn/finger.html</a></li>
</ul>
<p>如下，我们用WhatWeb: <a href="https://whatweb.net/在线识别一下我的博客：" target="_blank" rel="noopener">https://whatweb.net/在线识别一下我的博客：</a></p>
<p><strong>（2）利用工具</strong></p>
<p>常见的CMS指纹识别工具有WhatWeb、WebRobo、椰树、御剑Web指纹识别。大禹CMS识别程序等，可以快速识别一些主流CMS。</p>
<p>如下，我们利用kali上的WhatWeb工具识别目标站点的cms：</p>
<p><img src="https://image.3001.net/images/20200927/1601208002_5f707ec247a1b646c0620.png!small" alt="img"></p>
<p>如上图，WhatWeb将目标站点的服务器、中间节、cms等都识别了出来。</p>
<p>当我们得知了一个站点的cms类型后，我们可以在网上查找与其相关的漏洞并进行相应的测试。</p>
<p><strong>（3）手工识别</strong></p>
<ul>
<li>\1. 根据HTTP响应头判断，重点关注X-Powered-By、cookie等字段</li>
<li>\2. 根据HTML 特征，重点关注 body、title、meta等标签的内容和属性。</li>
<li>\3. 根据特殊的class判断。HTML 中存在特定 class 属性的某些 div 标签，如<body class="ke-content"></li>
<li>……</li>
</ul>
<h3 id="敏感目录-文件收集"><a href="#敏感目录-文件收集" class="headerlink" title="敏感目录/文件收集"></a>敏感目录/文件收集</h3><p>也就是对目标网站做个目录扫描。在web渗透中，探测Web目录结构和隐藏的敏感文件是一个十分重要的环节，从中可以获取网站的后台管理页面、文件上传界面、robots.txt，甚至可能扫描出备份文件从而得到网站的源代码。</p>
<p>常见的网站目录的扫描工具主要有：</p>
<ul>
<li>御剑后台扫描工具</li>
<li>dirbuster扫描工具</li>
<li>dirsearch扫描工具</li>
<li>dirb</li>
<li>wwwscan</li>
<li>Spinder.py</li>
<li>Sensitivefilescan</li>
<li>Weakfilescan</li>
<li>……</li>
</ul>
<p><strong>（1）dirsearch目录扫描</strong></p>
<p>下载地址：<a href="https://github.com/maurosoria/dirsearch" target="_blank" rel="noopener">https://github.com/maurosoria/dirsearch</a></p>
<p>该工具使用很简单，简单使用如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 dirsearch.py -u &lt;URL&gt; -e &lt;EXTENSION&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>-u：url（必须）</li>
<li>-e：扫描网站需要指定网站的脚本类型，* 为全部类型的脚本（必须）</li>
<li>-w：字典（可选）</li>
<li>-t：线程（可选）</li>
</ul>
<p><img src="https://image.3001.net/images/20200927/1601208904_5f708248b14d2bc2e68b2.png!small" alt="1601208904_5f708248b14d2bc2e68b2.png!small"></p>
<p><strong>（2）DirBuster目录扫描</strong></p>
<p>DirBuster是Owasp(开放Web软体安全项目- Open Web Application Security Project )开发的一款专门用于探测Web服务器的目录和隐藏文件。（需要java环境）</p>
<p>使用如下：</p>
<p><img src="https://image.3001.net/images/20200927/1601209106_5f708312c996089e6f9ba.png!small" alt="img"></p>
<ol>
<li>首先在Target URL输入框中输入要扫描的网址并将扫描过程中的请求方法设置为“Auto Switch(HEAD and GET)”。</li>
<li>自行设置线程（太大了容易造成系统死机哦）</li>
<li>选择扫描类型，如果使用个人字典扫描，则选择“List based bruteforce”选项。</li>
<li>单击“Browse”加载字典。</li>
<li>单机“URL Fuzz”，选择URL模糊测试（不选择该选项则使用标准模式）</li>
<li>在URL to fuzz里输入“/{dir}”。这里的{dir}是一个变量，用来代表字典中的每一行，运行时{dir}会被字典中的目录替换掉。</li>
<li>点击“start”开始扫描</li>
</ol>
<p>使用DirBuster扫描完成之后，查看扫描结果，这里的显示方式可以选择树状显示，也可以直接列出所有存在的页面：</p>
<p><img src="https://image.3001.net/images/20200927/1601210235_5f70877b0275cf478e7e6.png!small" alt="1601210235_5f70877b0275cf478e7e6.png!small"></p>
<h3 id="Waf识别"><a href="#Waf识别" class="headerlink" title="Waf识别"></a>Waf识别</h3><p>Web应用防护系统（也称为：网站应用级入侵防御系统。英文：Web Application Firewall，简称： WAF）。利用国际上公认的一种说法：Web应用防火墙是通过执行一系列针对HTTP/HTTPS的安全策略来专门为Web应用提供保护的一款产品。</p>
<p>wafw00f是一个Web应用防火墙（WAF）指纹识别的工具。</p>
<p>下载地址：<a href="https://github.com/EnableSecurity/wafw00f" target="_blank" rel="noopener">https://github.com/EnableSecurity/wafw00f</a></p>
<p>wafw00f的工作原理：</p>
<blockquote>
<p>\1. 发送正常的HTTP请求，然后分析响应，这可以识别出很多WAF。</p>
<p>\2. 如果不成功，它会发送一些（可能是恶意的）HTTP请求，使用简单的逻辑推断是哪一个WAF。</p>
<p>\3. 如果这也不成功，它会分析之前返回的响应，使用其它简单的算法猜测是否有某个WAF或者安全解决方案响应了我们的攻击。</p>
</blockquote>
<p>kali上内置了该工具：</p>
<p><img src="https://image.3001.net/images/20200927/1601210847_5f7089df9f44efe4b8620.png!small" alt="1601210847_5f7089df9f44efe4b8620.png!small"></p>
<p>wafw00f支持非常多的WAF识别。要查看它能够检测到哪些WAF，请使用-l 选项：</p>
<p><img src="https://image.3001.net/images/20200927/1601211036_5f708a9cbf695b0daccca.png!small" alt="1601211036_5f708a9cbf695b0daccca.png!small"></p>
<p>……</p>
<p>简单使用如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wafw00f https:&#x2F;&#x2F;www.xxx.com&#x2F;</span><br></pre></td></tr></table></figure>

<p><img src="https://image.3001.net/images/20200927/1601211307_5f708babcd34157f0169e.png!small" alt="1601211307_5f708babcd34157f0169e.png!small"></p>
<h2 id="敏感信息收集"><a href="#敏感信息收集" class="headerlink" title="敏感信息收集"></a>敏感信息收集</h2><p>有时候，针对某些安全做得很好的目标，直接通过技术层面是无法完成渗透测试的。此时，便可以利用搜索引擎搜索目标暴露在互联网上的关联信息。例如：数据库文件、SQL注入、服务配置信息，甚至是通过Git找到站点泄露源代码，以及Redis等未授权访问、Robots.txt等敏感信息，从而达到渗透目的。</p>
<h3 id="Google-hacking"><a href="#Google-hacking" class="headerlink" title="Google hacking"></a>Google hacking</h3><p><img src="https://image.3001.net/images/20200928/1601258249_5f71430982bbaf955afac.jpeg!small" alt="img"></p>
<p>Google搜索引擎从1998年开始沿用至今，我们所有的问题，在Google上面几乎都能找到答案。Google可以用来发现远远超过我们甚至应该能找到的信息，Google可以找到敏感文件，网络漏洞，它允许操作系统和识别，甚至可以被用来找到密码，数据库乃至整个邮箱内容……</p>
<p>Google Hacking 正是是利用谷歌搜索的强大，来在浩瀚的互联网中搜索到超乎我们想象我的信息。轻量级的搜索可以搜索出一些遗留后门，不想被发现的后台入口、sql注入等网络漏洞，中量级的搜索出一些用户信息泄露，源代码泄露，未授权访问等等，重量级的则可能是mdb文件下载，CMS 未被锁定install页面，网站配置密码，php远程文件包含漏洞等重要信息。</p>
<p>利用 Google Hacking 我们能够收集很多对我们有用的情报，毫无疑问Google是一个伟大的信息收集工具。</p>
<p>要利用Google搜索我们想要的信息，需要配合谷歌搜索引擎的一些语法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">intext：寻找正文中含有关键字的网页</span><br><span class="line">intitle：寻找标题中含有关键字的网页</span><br><span class="line">allintitle：用法和intitle类似，只不过可以指定多个词</span><br><span class="line">inurl：搜索url中含有关键词的网页</span><br><span class="line">allinurl：用法和inurl类似，只不过可以指定多个词</span><br><span class="line">site：指定访问的站点</span><br><span class="line">filetype：指定访问的文件类型</span><br><span class="line">link：指定链接的网页</span><br><span class="line">related：搜索相似类型的网页</span><br><span class="line">info：返回站点的指定信息，例如：info:www.baidu.com   将返回百度的一些信息</span><br><span class="line">phonebook：电话簿查询美国街道地址和电话号码信息</span><br><span class="line">Index of：利用 Index of 语法可以发现允许目录浏览的web网站，就像在本地的普通目录一样</span><br></pre></td></tr></table></figure>

<p><strong>查找网站后台</strong></p>
<ul>
<li>intext:后台登录：将只返回正文中包含“后台登录”的网页</li>
<li>intitle:后台登录：将只返回标题中包含“后台登录”的网页</li>
</ul>
<p><img src="https://image.3001.net/images/20200927/1601212355_5f708fc33e7058638d1ba.png!small" alt="img"><strong>查找管理员登录页面</strong></p>
<p><img src="https://image.3001.net/images/20200927/1601212453_5f709025dfd5fb107e82d.png!small" alt="img"><strong>查找后台数据库管理页面</strong></p>
<p><img src="https://image.3001.net/images/20200927/1601212479_5f70903fc707a913cf6a3.png!small" alt="img"></p>
<p><strong>查找指定网站后台</strong></p>
<ul>
<li>site:xx.com intext:管理</li>
<li>site:xx.com inurl:login</li>
<li>site:xx.com intitle:后台</li>
</ul>
<p><strong>查看指定网站的文件上传漏洞</strong></p>
<ul>
<li>site:xx.com inurl:file</li>
<li>site:xx.com inurl:load</li>
</ul>
<p><strong>利用Index of可以发现允许目录浏览的web网站，就像在本地的普通目录一样</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">index of &#x2F;admin</span><br><span class="line">index of &#x2F;passwd</span><br><span class="line">index of &#x2F;password</span><br><span class="line">index of &#x2F;mail</span><br><span class="line">&quot;index of &#x2F;&quot; +passwd</span><br><span class="line">&quot;index of &#x2F;&quot; +password.txt</span><br><span class="line">&quot;index of &#x2F;config&quot;</span><br></pre></td></tr></table></figure>

<p>用index of目录列表列出存在于一个web服务器上的文件和目录。</p>
<p>intitle:index.of 这里的休止符代表的是单个字母的通配符</p>
<p><img src="https://image.3001.net/images/20200927/1601212635_5f7090db8638a07b4c79b.png!small" alt="img">随便进去一个看看：</p>
<p><img src="https://image.3001.net/images/20200927/1601212669_5f7090fd8f99e87c1ff25.png!small" alt="img"><strong>备份文件泄露</strong></p>
<ul>
<li>intitle:index.of index.php.bak</li>
<li>inurl:index.php.bak</li>
<li>intitle:index.of <a href="http://www.zip/" target="_blank" rel="noopener">www.zip</a></li>
</ul>
<p><strong>查找sql注入</strong></p>
<ul>
<li>inurl:?id=1</li>
<li>inurl: php?id=</li>
</ul>
<p><strong>GHDB 谷歌黑客数据库</strong></p>
<p>链接：<a href="https://www.exploit-db.com/google-hacking-database/" target="_blank" rel="noopener">https://www.exploit-db.com/google-hacking-database/</a></p>
<p>黑客们能通过简单的搜索框在网络中出入于无形，在这背后还有一个强大的后盾，那就是Google Hacking Database（GHDB）</p>
<p><img src="https://image.3001.net/images/20200927/1601212900_5f7091e451fbf23636f2e.png!small" alt="img">这是全世界的黑客朋友们自发维护的一个汇集着各种已经被优化的查询语句的数据库，每天都在不断地更新各种好用有效的Google查询语句。</p>
<h3 id="Github信息泄露"><a href="#Github信息泄露" class="headerlink" title="Github信息泄露"></a>Github信息泄露</h3><p><img src="https://image.3001.net/images/20200928/1601258335_5f71435f316ab5a62c945.gif!small" alt="img"></p>
<p>GitHub作为开源代码平台，给程序员提供了很多便利，但如果使用不当，比如将包含了账号密码、密钥等配置文件的代码上传了，导致攻击者能发现并进一步利用这些泄露的信息，就是一个典型的GitHub敏感信息泄露漏洞，再如开发人员在开发时，常常会先把源码提交到github，最后再从远程托管网站把源码pull到服务器的web目录下，如果忘记把.git文件删除，就造成此漏洞。利用.git文件恢复网站的源码，而源码里可能会有数据库的信息，详情参见：<a href="https://blog.csdn.net/qq_45521281/article/details/105767428" target="_blank" rel="noopener">https://blog.csdn.net/qq_45521281/article/details/105767428</a></p>
<p>很多网站及系统都会使用pop3和smtp发送来邮件，不少开发者由于安全意识不足会把相关的配置文件信息也放到Github上，所以如果这时候我们动用一下Google搜索语法，就能把这些敏感信息给找出来了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">site:Github.com smtp</span><br><span class="line">site:Github.com smtp @qq.com</span><br><span class="line">site:Github.com smtp @126.com</span><br><span class="line">site:Github.com smtp @163.com</span><br><span class="line">site:Github.com smtp @sina.com.cn</span><br><span class="line">……</span><br></pre></td></tr></table></figure>

<p><img src="https://image.3001.net/images/20200928/1601256346_5f713b9a2ce1377110e0b.png!small" alt="1601256346_5f713b9a2ce1377110e0b.png!small"></p>
<p><img src="https://image.3001.net/images/20200928/1601256490_5f713c2a823b6be768d59.png!small" alt="1601256490_5f713c2a823b6be768d59.png!small"></p>
<p>数据库信息泄露：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">site:Github.com sa password</span><br><span class="line">site:Github.com root password</span><br></pre></td></tr></table></figure>

<h2 id="服务器信息收集"><a href="#服务器信息收集" class="headerlink" title="服务器信息收集"></a>服务器信息收集</h2><p>我们还需要对目标服务器的信息进行收集，主要包括一下部分：</p>
<ul>
<li>Web服务器指纹识别</li>
<li>真实IP地址识别</li>
<li>编程语言</li>
<li>Web中间件</li>
<li>端口信息收集</li>
<li>后端存储技术识别</li>
<li>……</li>
</ul>
<h3 id="Web服务器指纹识别"><a href="#Web服务器指纹识别" class="headerlink" title="Web服务器指纹识别"></a>Web服务器指纹识别</h3><p>Web服务器指纹识别是了解正在运行的web服务器类型和版本，目前市场上存在几种不同的web服务器提供商和软件版本，了解被测试的web服务器的类型，能让测试者更好去测试已知漏洞和大概的利用方法，将会在渗透测试过程中有很大的帮助，甚至会改变测试的路线。</p>
<p>Web服务器指纹识别主要识别一下信息：</p>
<blockquote>
<p>1、Web服务器名称，版本</p>
<p>2、Web服务器后端是否有应用服务器</p>
<p>3、数据库(DBMS)是否部署在同一主机(host)，数据库类型</p>
<p>4、Web应用使用的编程语言</p>
<p>5、Web应用框架</p>
<p>……</p>
</blockquote>
<p><strong>（1）手工检测</strong></p>
<ul>
<li><strong>1. HTTP头分析</strong></li>
</ul>
<p>即查看HTTP响应头中的Server、X-Powered-By、Cookie 等字段，这也是最基本的方法。</p>
<p><img src="https://image.3001.net/images/20200927/1601214426_5f7097da7934a6f01a9b2.png!small" alt="img">如上图，从Server字段，我们可以发现服务器可能是Apache，版本2.4.6，运行在CentOS Linux系统上。</p>
<p>根据X-Powered-By字段我们可以判断识别出web框架，并且不同的web框架有其特有的cookie，根据这个我们也能判断识别出web应用框架。</p>
<ul>
<li><strong>2. 协议行为</strong></li>
</ul>
<p>即从HTTP头字段顺序分析，观察HTTP响应头的组织顺序，因为每个服务器都有一个内部的HTTP头排序方法。</p>
<ul>
<li><strong>3. 浏览并观察网站</strong></li>
</ul>
<p>我们可以观察网站某些位置的HTML源码(特殊的class名称)及其注释(comment)部分，可能暴露有价值信息。观察网站页面后缀可以判断Web应用使用的编程语言和框架。</p>
<ul>
<li><strong>4. 刻意构造错误</strong></li>
</ul>
<p>错误页面可以给你提供关于服务器的大量信息。可以通过构造含有随机字符串的URL，并访问它来尝试得到404页面。</p>
<p><strong>（2）利用工具识别</strong></p>
<p>whatweb是一款用于辅助的自动化Web应用指纹分析工具</p>
<p><img src="https://image.3001.net/images/20200928/1601250148_5f71236490fc4ac078d23.png!small" alt="img">常规扫描：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whatweb 域名&#x2F;ip地址</span><br></pre></td></tr></table></figure>

<p><img src="https://image.3001.net/images/20200928/1601250197_5f7123958d72783eeec2e.png!small" alt="img">批量扫描：</p>
<p>指定要扫描的文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whatweb -i 含有需要扫描的域名的文件的路径</span><br></pre></td></tr></table></figure>

<p>详细回显扫描：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whatweb -v 域名</span><br></pre></td></tr></table></figure>

<p><img src="https://image.3001.net/images/20200928/1601250265_5f7123d98f282252da843.png!small" alt="img">)<img src="https://image.3001.net/images/20200928/1601250291_5f7123f3d8badee4d718d.png!small" alt="img">Whatweb是一个基于Ruby语言的开源网站指纹识别软件，如上图，正如它的名字一样，whatweb能够识别各种关于网站的详细信息包括：CMS类型、博客平台、中间件、web框架模块、网站服务器、脚本类型、JavaScript库、IP、cookie等等。</p>
<p>另外，我们可以使用Nmap OS指纹初步判断操作系统。对于后端DBMS的识别，如果主机对外开放DBMS的话，可以通过端口特征判断，尤其是在开放默认端口比如3306、1443、27017等。</p>
<h3 id="真实IP地址识别"><a href="#真实IP地址识别" class="headerlink" title="真实IP地址识别"></a>真实IP地址识别</h3><p>在渗透测试中，一般只会给你一个域名，那么我们就要根据这个域名来确定目标服务器的真实IP，我们可以通过像<a href="https://www.freebuf.com/articles/web/www.ip138.com" target="_blank" rel="noopener">www.ip138.com</a>这样的IP查询网直接获取目标的一些IP及域名信息，但这里的前提是目标服务器没有使用CDN。</p>
<p><strong>什么是CDN？</strong></p>
<p>CDN的全称是Content Delivery Network，即内容分发网络。CDN是构建在现有网络基础之上的智能虚拟网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。CDN的关键技术主要有内容存储和分发技术。</p>
<p>CDN将用户经常访问的静态数据资源直接缓存到节点服务器上，当用户再次请求时，会直接分发到在离用户近的节点服务器上响应给用户，当用户有实际数据交互时才会从远程Web服务器上响应，这样可以大大提高网站的响应速度及用户体验。CDN网络的诞生大大地改善了互联网的服务质量，因此传统的大型网络运营商纷纷开始建设自己的CDN网络。</p>
<p>因此，如果目标服务器使用了CDN服务，那么我们直接查询到的IP并不是真正的目标服务器的IP，而是一台离你最近的目标节点的CDN服务器，这就导致了我们没法直接得到目标服务器的真实IP。</p>
<p><strong>如何判断目标服务器使用了CDN？</strong></p>
<p>我们可以ping这个网站域名，比如我们ping百度：</p>
<p><img src="https://image.3001.net/images/20200928/1601251439_5f71286f28908a71279fa.png!small" alt="1601251439_5f71286f28908a71279fa.png!small"></p>
<p>如上图，我们可以看到百度使用了CDN。</p>
<p>我们也可以设置代理或者通过在线ping网站来在不同地区进行ping测试，然后对比每个地区ping出的IP结果，查看这些IP是否一致，一致，则极有可能不存在CDN。根据 CDN 的工作原理，如果网站使用了 CDN，那么从全国各地访问网站的 IP 地址是各个 CDN 节点的 IP 地址，那么如果ping出来的IP大多不太一样或者规律性很强，可以尝试查询这些IP的归属地，判断是否存在CDN。有以下网站可以进行ping测试：</p>
<ul>
<li><a href="http://ping.chinaz.com/" target="_blank" rel="noopener">http://ping.chinaz.com/</a></li>
<li><a href="https://www.wepcc.com/" target="_blank" rel="noopener">https://www.wepcc.com</a></li>
<li><a href="https://www.17ce.com/" target="_blank" rel="noopener">https://www.17ce.com</a></li>
</ul>
<p>以 <a href="https://www.wepcc.com/为例，如图所示，对" target="_blank" rel="noopener">https://www.wepcc.com/为例，如图所示，对</a> <a href="https://www.baidu.com/" target="_blank" rel="noopener">https://www.baidu.com</a>进行ping命令测试，根据 IP 地址和归属地不同，可以判断 <a href="https://www.baidu.com/" target="_blank" rel="noopener">https://www.baidu.com</a>使用了 CDN。</p>
<p><img src="https://image.3001.net/images/20200928/1601251978_5f712a8ac684a5dd3b467.png!small" alt="1601251978_5f712a8ac684a5dd3b467.png!small"></p>
<p><strong>如何绕过CDN找到目标真实IP？</strong></p>
<p><strong>1.</strong> 利用子域名。一般来说很多站长可能只会对主站或者流量较大的分站使用CDN，但是一些流量比较小的分站可能没有挂CDN，这些分站和主站虽然不是同一个IP但是都在同一个C段下面的情况，所以我们可以通过ping二级域名获取分站lP，从而能判断出目标的真实IP段。</p>
<p><strong>2.</strong> 查询主域。以前用CDN的时候有个习惯，只让WWW域名使用cdn，秃域名不使用，为的是在维护网站时更方便，不用等cdn缓存。所以试着把目标网站的www去掉，ping一下看ip是不是变了，如下图，这个方法还是挺有效的：</p>
<p><img src="https://image.3001.net/images/20200928/1601252504_5f712c981c448cb0d3e01.png!small" alt="1601252504_5f712c981c448cb0d3e01.png!small"></p>
<p><strong>3.</strong>扫描网站敏感文件，如phpinfo.php等，从而找到目标的真实IP。</p>
<p><strong>4.</strong>从国外访问。国内很多CDN厂商因为各种原因只做了国内的线路，而针对国外的线路可能几乎没有，此时我们使用国外的主机直接访问可能就能获取到真实P。我们可以通过国外在线代理网站访问，可能会得到真实的IP地址，外国在线代理网站：</p>
<ul>
<li><a href="https://asm.ca.com/en/ping.php" target="_blank" rel="noopener">https://asm.ca.com/en/ping.php</a></li>
</ul>
<p><img src="https://image.3001.net/images/20200928/1601254055_5f7132a738c8119b73e01.png!small" alt="1601254055_5f7132a738c8119b73e01.png!small"></p>
<p>如上图，从国外代理访问目标网站的IP都是一样的。</p>
<p><strong>5.</strong>通过邮件服务器。一般的邮件系统都在内部，没有经过CDN的解析，通过目标网站用户注册或者RSS订阅功能，查看邮件，寻找邮件头中的邮件服务器域名IP，ping这个邮件服务器的域名，由于这个邮件服务器的有可能跟目标Web在一个段上，我们直接一个一个扫，看返回的HTML源代码是否跟web的对的上，就可以获得目标的真实IP(必须是目标自己内部的邮件服务器，第三方或者公共邮件服务器是没有用的)。</p>
<p><strong>6.</strong> 查看域名历史解析记录。也许目标很久之前没有使用CDN，所以可能会存在使用 CDN 前的记录。所以可以通过<a href="https://www.netcraft.com/" target="_blank" rel="noopener">https://www.netcraft.com</a>、<a href="https://viewdns.info/等网站来观察域名的IP历史记录。" target="_blank" rel="noopener">https://viewdns.info/等网站来观察域名的IP历史记录。</a></p>
<p><strong>7.</strong>Nslookup查询。查询域名的NS记录、MX记录、TXT记录等很有可能指向的是真实ip或同C段服务器。</p>
<p><strong>8.</strong>利用网络空间搜索引擎。这里主要是利用网站返回的内容寻找真实原始IP，如果原始服务器IP也返回了网站的内容，那么可以在网上搜索大量的相关数据。最常见的网络空间搜索引擎有如下：</p>
<ul>
<li>Shodan：<a href="https://www.shodan.io/" target="_blank" rel="noopener">https://www.shodan.io/</a></li>
<li>钟馗之眼：<a href="https://www.zoomeye.org/" target="_blank" rel="noopener">https://www.zoomeye.org/</a></li>
<li>FOFA：<a href="https://fofa.so/" target="_blank" rel="noopener">https://fofa.so/</a></li>
</ul>
<p><strong>9.</strong> 让目标主动连接我们。</p>
<p>1、发邮件给我们。比如订阅、注册的时候会有注册连接发送到我们的邮件，然后查看邮件全文源代码或邮件标头，寻找邮件头中的邮件服务器域名IP就可以了。</p>
<p>2、利用网站漏洞。比如有代码执行漏洞、SSRF、存储型的XSS都可以让服务器主动访问我们预设的web服务器，那么就能在日志里面看见目标网站服务器的真实IP。</p>
<p>……</p>
<p><strong>验证获得的真实IP地址</strong></p>
<p>通过上面的方法获取了很多的IP地址（上面的方法4），此时我们需要确定哪一个才是真正的IP地址，如果是Web，最简单的验证方法是直接尝试用IP访问，看看响应的页面是不是和访问域名返回的一样即可。：</p>
<h3 id="端口信息收集"><a href="#端口信息收集" class="headerlink" title="端口信息收集"></a>端口信息收集</h3><p>在渗透测试的过程中，收集端口信息是一个十分重要的过程，通过扫描目标服务器开放的端口可以从该端口判断服务器上运行的服务。因为针对不同的端口具有不同的攻击方法，收集端口信息可以对症下药，便于我们渗透目标服务器。我们可以通过一下方法收集目标服务器的端口信息：</p>
<ul>
<li><strong>1. 使用nmap工具收集</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -A -v -T4 -O -sV 目标地址</span><br></pre></td></tr></table></figure>

<p><img src="https://image.3001.net/images/20200928/1601255035_5f71367b4eeb313a6c6aa.png!small" alt="1601255035_5f71367b4eeb313a6c6aa.png!small"></p>
<ul>
<li><strong>2. 使用masscan探测端口开放信息</strong></li>
</ul>
<p>Masscan号称是最快的互联网端口扫描器，最快可以在六分钟内扫遍互联网。masscan的扫描结果类似于nmap(一个很著名的端口扫描器)，在内部，它更像scanrand, unicornscan, and ZMap，采用了异步传输的方式。它和这些扫描器最主要的区别是，它比这些扫描器更快。而且，masscan更加灵活，它允许自定义任意的地址范和端口范围。</p>
<p><img src="https://image.3001.net/images/20200928/1601255458_5f71382286becd0cde096.png!small" alt="1601255458_5f71382286becd0cde096.png!small"></p>
<p>由于使用工具通常会在目标网站留下痕迹，接下来提供一种在线网站探测方法。</p>
<ul>
<li>在线网站：<a href="http://tool.chinaz.com/port/" target="_blank" rel="noopener">http://tool.chinaz.com/port/</a></li>
<li>ThreatScan在线网站（网站基础信息收集）：<a href="https://scan.top15.cn/" target="_blank" rel="noopener">https://scan.top15.cn/</a></li>
<li>Shodan：<a href="https://www.shodan.io/" target="_blank" rel="noopener">https://www.shodan.io/</a></li>
</ul>
<p><img src="https://image.3001.net/images/20200928/1601255740_5f71393c6b36513051530.png!small" alt="1601255740_5f71393c6b36513051530.png!small"></p>
<p>常见的端口及其攻击方向可以参考：<a href="https://blog.csdn.net/weixin_42320142/article/details/102679143" target="_blank" rel="noopener">https://blog.csdn.net/weixin_42320142/article/details/102679143</a></p>
<h2 id="社会工程学"><a href="#社会工程学" class="headerlink" title="社会工程学"></a>社会工程学</h2><p><img src="https://image.3001.net/images/20200928/1601257872_5f71419012284020c8530.jpg!small" alt="img"></p>
<p>相信看过《我是谁：没有绝对的安全系统》的朋友对社会工程学可能有深刻的印象了。全片的过程中，一直在处处渗透着社会工程学的原理，利用人们的胆小怕事，来获取自己利益。而后来，男主将社会工程学运用到了极致，成功为自己赢得了一个新的身份。</p>
<p><img src="https://image.3001.net/images/20200928/1601257971_5f7141f3e1094c10bb6d0.jpg!small" alt="img"></p>
<p>社会工程学（Social Engineering）是一种通过人际交流的方式获得信息的非技术渗透手段。其实，现在的黑客攻击也不止是仅仅通过网络来进行远程的渗透与入侵，还会通过社会工程学在线下场景中来针对人性弱点进行相应的攻击。而且不幸的是，这种手段对于黑客来说非常有效，成功率也非常之高。事实上，社会工程学已是企业安全最大的威胁之一。狭义与广义社会工程学最明显的区别就是是否会与受害者产生交互行为。广义是有针对性的去对某一单一或多一目标进行攻击的行为。社会工程学在渗透测试中起着不小的作用，利用社会工程学，攻击者可以从一名员工的口中挖掘出本应该是秘密的信息。</p>
<blockquote>
<p>凯文·米特尼克在《反欺骗的艺术》中曾提到，人为因素才是安全的软肋。很多企业、公司在信息安全上投入大量的资金，最终导致数据泄露的原因，往往却是发生在人本身。你们可能永远都想象不到，对于黑客们来说，通过一个用户名、一串数字、一串英文代码，社会工程师就可以通过这么几条的线索，通过社工攻击手段，加以筛选、整理，就能把你的所有个人情况信息、家庭状况、兴趣爱好、婚姻状况、你在网上留下的一切痕迹等个人信息全部掌握得一清二楚。虽然这个可能是最不起眼，而且还是最麻烦的方法。一种无需依托任何黑客软件，更注重研究人性弱点的黑客手法正在兴起，这就是社会工程学黑客技术。</p>
</blockquote>
<p>社会工程学攻击包括四个阶段：</p>
<ul>
<li>研究：信息收集（WEB、媒体、垃圾桶、物理），确定并研究目标</li>
<li>钩子：与目标建立第一次交谈（HOOK、下套）</li>
<li>下手：与目标建立信任并获取信息</li>
<li>退场：不引起目标怀疑的离开攻击现场</li>
</ul>
<p>社会工程学收集的常见信息包括：姓名、性别、出生日期、身份zheng号、身份zheng家庭住址、身份zheng所在公安局、快递收货地址、大致活动范围、qq、手机号、邮箱、银行card号（银行开户行）、支付宝、贴吧、百度、微博、猎聘、58、同城、网盘、微信、常用ID、学历（小/初/高/大学/履历）、目标性格详细分析、常用密码、照片EXIF信息。</p>
<p>常见可获取信息系统包括：中航信系统、春秋航空系统、12306系统、三大运营商网站、全国人口基本信息资源库、全国机动车/驾驶人信息资源库、各大快递系统（越权）、全国出入境人员资源库、全国在逃人员信息资源库、企业相关系统、全国安全重点单位信息资源库等。</p>
<p>举个例子：</p>
<p>假设我们要对一家公司进行渗透测试，正在收集目标的真实IP阶段，此时就可以利用收集到的这家公司的某位销售人员的电子邮箱。首先，给这位销售人员发送邮件，假装对某个产品很感兴趣，显然销售人员会回复邮件。这样攻击者就可以通过分析邮件头来收集这家公司的真实IP地址及内部电子邮件服务器的相关信息。通过进一步地应用社会工程学，假设现在已经收集了目标人物的邮箱、QQ、电话号码、姓名，以及域名服务商，也通过爆破或者撞库的方法获取邮箱的密码，这时就可以冒充目标人物要求客服人员协助重置域管理密码，甚至技术人员会帮着重置密码，从而使攻击者拿下域管理控制台，然后做域劫持。</p>
<p>详情请参考：</p>
<p><a href="https://www.zhihu.com/question/26113526" target="_blank" rel="noopener">https://www.zhihu.com/question/26113526</a></p>
<p><a href="https://blog.csdn.net/Eastmount/article/details/100585715" target="_blank" rel="noopener">https://blog.csdn.net/Eastmount/article/details/100585715</a></p>
<p>推荐书籍：</p>
<p>《黑客心理学》、《欺骗的艺术》</p>
<h2 id="Ending……"><a href="#Ending……" class="headerlink" title="Ending……"></a>Ending……</h2><p>“知己知彼，百战不殆”，进行web渗透测试之前，最重要的一步那就是就是信息收集了，俗话说“渗透的本质也就是信息收集”，信息收集的深度，直接关系到渗透测试的成败。打好信息收集这一基础可以让测试者选择合适和准确的渗透测试攻击方式，缩短渗透测试的时间。</p>

      
      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a href="/2020/11/08/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/">WEB渗透测试的信息收集</a></p>
        <p><span>文章作者:</span><a href="/" title="访问 TogetherAlone 的个人博客">TogetherAlone</a></p>
        <p><span>发布时间:</span>2020年11月08日 - 21时35分</p>
        <p><span>最后更新:</span>2020年11月12日 - 14时01分</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/2020/11/08/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" title="WEB渗透测试的信息收集">https://itogetheralone.github.io/2020/11/08/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/</a>
            <span class="copy-path" data-clipboard-text="原文: https://itogetheralone.github.io/2020/11/08/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/　　作者: TogetherAlone" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
            <script src="/js/clipboard.min.js"></script>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license noopener" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" title="中国大陆 (CC BY-NC-SA 3.0 CN)" target = "_blank">"署名-非商用-相同方式共享 3.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



<nav id="article-nav">
  
  
    <a href="/2020/09/24/%E8%AE%BA%E6%96%87/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">WEB渗透测试的简单分析</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>

    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#信息收集介绍"><span class="toc-number">1.</span> <span class="toc-text">信息收集介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#域名信息收集"><span class="toc-number">2.</span> <span class="toc-text">域名信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Whois-查询"><span class="toc-number">2.1.</span> <span class="toc-text">Whois 查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#备案信息查询"><span class="toc-number">2.2.</span> <span class="toc-text">备案信息查询</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#子域名信息收集"><span class="toc-number">3.</span> <span class="toc-text">子域名信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#利用搜索引擎查询"><span class="toc-number">3.1.</span> <span class="toc-text">利用搜索引擎查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#利用在线工具查询"><span class="toc-number">3.2.</span> <span class="toc-text">利用在线工具查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#通过证书透明度公开日志枚举子域名"><span class="toc-number">3.3.</span> <span class="toc-text">通过证书透明度公开日志枚举子域名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#利用工具枚举子域名"><span class="toc-number">3.4.</span> <span class="toc-text">利用工具枚举子域名</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Dnsenum：域名信息收集"><span class="toc-number">3.4.1.</span> <span class="toc-text">Dnsenum：域名信息收集</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Dnsmap：收集信息和枚举DNS信息"><span class="toc-number">3.4.2.</span> <span class="toc-text">Dnsmap：收集信息和枚举DNS信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Dnsrecon：用于DNS侦察"><span class="toc-number">3.4.3.</span> <span class="toc-text">Dnsrecon：用于DNS侦察</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Fierce-：子域名查询"><span class="toc-number">3.4.4.</span> <span class="toc-text">Fierce ：子域名查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#whois查询"><span class="toc-number">3.4.5.</span> <span class="toc-text">whois查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#subDomainsbrute"><span class="toc-number">3.4.6.</span> <span class="toc-text">subDomainsbrute</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#站点信息收集"><span class="toc-number">4.</span> <span class="toc-text">站点信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CMS指纹识别"><span class="toc-number">4.1.</span> <span class="toc-text">CMS指纹识别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#敏感目录-文件收集"><span class="toc-number">4.2.</span> <span class="toc-text">敏感目录&#x2F;文件收集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Waf识别"><span class="toc-number">4.3.</span> <span class="toc-text">Waf识别</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#敏感信息收集"><span class="toc-number">5.</span> <span class="toc-text">敏感信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Google-hacking"><span class="toc-number">5.1.</span> <span class="toc-text">Google hacking</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Github信息泄露"><span class="toc-number">5.2.</span> <span class="toc-text">Github信息泄露</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#服务器信息收集"><span class="toc-number">6.</span> <span class="toc-text">服务器信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Web服务器指纹识别"><span class="toc-number">6.1.</span> <span class="toc-text">Web服务器指纹识别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#真实IP地址识别"><span class="toc-number">6.2.</span> <span class="toc-text">真实IP地址识别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#端口信息收集"><span class="toc-number">6.3.</span> <span class="toc-text">端口信息收集</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#社会工程学"><span class="toc-number">7.</span> <span class="toc-text">社会工程学</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ending……"><span class="toc-number">8.</span> <span class="toc-text">Ending……</span></a></li></ol>
</div>
<input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">


<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

<script>
    var valueHide = "隐藏目录";
    var valueShow = "显示目录";

    if ($(".left-col").is(":hidden")) {
        $("#tocButton").attr("value", valueShow);
    }
    $("#tocButton").click(function() {
        if ($("#toc").is(":hidden")) {
            $("#tocButton").attr("value", valueHide);
            $("#toc").slideDown(320);
        }
        else {
            $("#tocButton").attr("value", valueShow);
            $("#toc").slideUp(350);
        }
    })
    if ($(".toc").length < 1) {
        $("#toc, #tocButton").hide();
    }
</script>





<div class="bdsharebuttonbox">
	<a href="#" class="fx fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
	<a href="#" class="fx fa-weixin bds_weixin" data-cmd="weixin" title="分享到微信"></a>
	<a href="#" class="fx fa-qq bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
	<a href="#" class="fx fa-facebook-official bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
	<a href="#" class="fx fa-twitter bds_twi" data-cmd="twi" title="分享到Twitter"></a>
	<a href="#" class="fx fa-linkedin bds_linkedin" data-cmd="linkedin" title="分享到linkedin"></a>
	<a href="#" class="fx fa-files-o bds_copy" data-cmd="copy" title="分享到复制网址"></a>
</div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>




    
        <section id="comments">
  <div id="disqus_thread"></div>
    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'swing'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
</section>
    



    <div class="scroll" id="post-nav-button">
        
            <a href="/" title="回到主页"><i class="fa fa-home"></i></a>
        
        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>
        
            <a href="/2020/09/24/%E8%AE%BA%E6%96%87/" title="下一篇: WEB渗透测试的简单分析">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>
    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/11/08/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/">WEB渗透测试的信息收集</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/24/%E8%AE%BA%E6%96%87/">WEB渗透测试的简单分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/24/XML%E5%AD%A6%E4%B9%A0/">XML基础学习（一）</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/23/zabbix/">基于Zabbix的Linux自动化监控系统简单配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/24/%E5%8A%AA%E5%8A%9B%E5%B0%B1%E4%BC%9A%E6%88%90%E5%8A%9F/">“努力就会成功”</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/24/%E6%88%91%E4%BB%AC%E6%B2%A1%E5%BF%85%E8%A6%81%E7%9B%B8%E4%BA%92%E7%90%86%E8%A7%A3/">我们没必要相互理解</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/22/markdown/">记Markdown语言的学习与总结</a></li></ul>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
    <script>
        $(".post-list").addClass("toc-article");
        $(".post-list-item a").attr("target","_blank");
        $("#post-nav-button > a:nth-child(2)").click(function() {
            $(".fa-bars, .fa-times").toggle();
            $(".post-list").toggle(300);
            if ($(".toc").length > 0) {
                $("#toc, #tocButton").toggle(200, function() {
                    if ($(".switch-area").is(":visible")) {
                        $("#tocButton").attr("value", valueHide);
                        }
                    })
            }
            else {
            }
        })
    </script>



    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2020 TogetherAlone
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="http://bestwing.me" target="_blank">Sw'blog</a> by Swing
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >海贼到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>


<script src="/js/main.js"></script>


    <script>
        $(document).ready(function() {
            var backgroundnum = 49;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


    <script type="text/javascript">
      window.onload = function(){
        document.getElementById("search").onclick = function(){
            console.log("search")
            search();
        }
      }
      function search(){
        (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
        (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
        e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
        })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

        _st('install','A1Pz-LKMXbrzcFg2FWi6','2.0.0');
      }
    </script>

  </div>
  <!-- 雪花特效 -->
  <script type="text/javascript" src="\js\snow.js"></script>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/kesyoban.model.json"},"display":{"position":"right","width":200,"height":400},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>